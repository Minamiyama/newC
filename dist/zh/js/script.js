$("#nav-list li").not(".book").mouseover(function(){$(this).addClass("hover")}).mouseout(function(){$(this).removeClass("hover")}),$("#nav-list .link-item").click(function(){$(this).parents("li").addClass("active").siblings("li").removeClass("active")});var heightList=[],container=$(".g-container"),h=$(".g-top").height()+$(".g-header").height()+parseInt($(".m-shadow").css("marginTop"))-$(".g-nav").height();function calcHeight(){var t=h;(heightList=[]).push(t);for(var i=0;i<container.length-1;i++)t+=container[i].clientHeight,heightList.push(t);console.log(heightList)}calcHeight(),$(document).scroll(function(){$(document).scrollTop()>h?$(".g-nav").addClass("fixed"):$(".g-nav").removeClass("fixed");var t=document.documentElement.clientHeight||window.innerHeight||750;$(document).scrollTop()>=t?$(".g-totop").fadeIn():$(".g-totop").fadeOut();for(var i=0;i<heightList.length;i++)$(document).scrollTop()>=heightList[i]&&$(document).scrollTop()<heightList[i+1]?($("#nav-list .link-item").parents("li").removeClass("active"),$("#nav-list .link-item").eq(i).parents("li").addClass("active")):$(document).scrollTop()>=heightList[heightList.length-1]&&($("#nav-list .link-item").parents("li").removeClass("active"),$("#nav-list .link-item").eq(heightList.length-1).parents("li").addClass("active"))}),$(".link-item").click(function(){var t=$(this).attr("index"),i=heightList[t]+3;$("html").animate({scrollTop:i},700)}),$("#js-more").click(function(){"none"==$("#js-mask").css("display")?$("#js-mask").slideDown(function(){h=$(".g-top").height()+$(".g-header").height()+parseInt($(".m-shadow").css("marginTop"))-$(".g-nav").height()+parseInt($("#js-mask").height()),calcHeight()}):$("#js-mask").slideUp(function(){h=$(".g-top").height()+$(".g-header").height()+parseInt($(".m-shadow").css("marginTop"))-$(".g-nav").height(),calcHeight()})}),$(".scroll-top").click(function(){$("html").animate({scrollTop:0},700)});