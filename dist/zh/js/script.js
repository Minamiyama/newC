$(".scroll-top").click(function(){$("html").animate({scrollTop:0},700)}),$("#js-go-tree").click(function(){$("html,body").animate({scrollTop:$("#js-tree").offset().top},500)});var treeData=null;function getTreeData(t){setTimeout(function(){treeData={yun:{name:"云之树",total:8,stock:7},tan:{name:"潭之树",total:8,stock:0},yan:{name:"炎之树",total:8,stock:8},lei:{name:"雷之树",total:8,stock:8},di:{name:"地之树",total:8,stock:8},mai:{name:"脉之树",total:8,stock:8},liu:{name:"流之树",total:8,stock:8},feng:{name:"风之树",total:8,stock:8}},initTree(),t()},2e3)}function refreshSellBoard(t){var e,a=treeData[t];e="已售"+(a.total-a.stock)+"棵，剩余"+a.stock+"棵",0==a.stock?($("#js-btn-buy").hide(),$("#js-btn-sellout").show()):($("#js-btn-buy").show(),$("#js-btn-sellout").hide()),$("#js-tree-status").text(e),$("#js-tree-name").text(a.name)}var currentTreeName="";function initTree(){for(var t=App.init(),e=$("#js-tree li"),a="",r="",n=0;n<e.length;n++)a=$(e[n]).attr("name"),r=treeData[a].stock<=0?"已售罄":treeData[a].stock+" / "+treeData[a].total,0<treeData[a].mine&&(r="已购买"+treeData[a].mine+"棵"),$(e[n]).children(".desc").text(r);!0!==t?$("#js-tree li").eq(0).click():refreshSellBoard(currentTreeName)}$("#js-tree li").click(function(){var t=$(this).attr("name");currentTreeName=t,$("#js-tree-content .left img").attr("src","img/big-"+t+".jpg"),$(this).addClass("active").siblings("li").removeClass("active"),refreshSellBoard(t)}),getTreeData(function(){$("#js-tree li").eq(0).click()}),$("#js-btn-buy").click(function(){console.log(currentTreeName),App.handleBuy(currentTreeName)});